<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Getting Started</title>
  <meta name="description" content="Its about saying »Hello« to the World.">
  <link rel="stylesheet" type="text/css" href="http://localhost:4113/assets/css/main.min.css">
  <link rel="stylesheet" type="text/css" href="/type.css">
  <link rel="icon" type="image/png" href="http://stage.dadi.tech/assets/img/favicon.png">
</head>
<body class="docs light">

<div class="top">
  <div class="top__bg pattern" style="background-color: #333;" data-colors="#333333,#2d2d2d,#272727,#222222,#1c1c1c,#161616,#111111,#0b0b0b,#050505,#000000"></div>

  <div class="container">
    <header class="grid bs-grid">
      <div class="col w-1-4">
        <h1><a href="/" class="inline-block"><img src="http://stage.dadi.tech/assets/img/dadi-light.svg" width="150" alt="DADI"></a></h1>
      </div>
      <div class="col w-1-4 bs-w-1-1">
        <ul class="normal nav  marg__right--x2">
          <li><a href="https://dadi.tech/platform/" class="active">Platform</a></li>
          <li><a href="https://dadi.tech/success-stories/" >Success stories</a></li>
          <li><a href="https://dadi.tech/latest/" >Latest</a></li>
        </ul>
      </div>
      <div class="col w-1-4 bs-w-1-2">
        <p class="fwb small">Looking for a hosted technology solution?</p>
        <a href="https://dadi.tech/on-demand/" class="btn btn--fill btn--red">On demand</a>
      </div>
      <div class="col w-1-4 bs-w-1-2">
        <p class="fwb small">Need help integrating or customising our platform?</p>
        <a href="https://dadi.tech/solutions/" class="btn btn--fill btn--green">Solutions</a>
      </div>
    </header>
    <div class="marg__bottom small">
      <ul class="list--breadcrumb titlecase">
        <li><a href="/">Documentation</a></li>
                <li  class=""><a href="/cdn">CDN</a></li>
      </ul>

      <h1>Getting Started</h1>
    </div>
  </div>
</div>
  <main>
    <div class="container normal">
      <div class="grid">
        <div class="col w-3-4 documentation pad__bottom--x2">
          <h1 id="installation-ubuntu">Installation: Ubuntu</h1>
<h2 id="overview">Overview</h2>
<p>This guide provides a simple step-by-step guide to installing CDN on Ubuntu <a href="http://releases.ubuntu.com/14.04.1/">14.04.1 LTS</a>. It assumes you’ll be running a single server using utilising local caching. For Redis setup instruction see <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-redis">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-redis</a>.</p>
<h2 id="installing-dadi-cdn">Installing DADI CDN</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>The DADI platform follows the Node LTS (Long Term Support) release schedule, and as such the version of Node required to run DADI CDN is coupled to the version of Node currently in Active LTS. See the <a href="https://github.com/nodejs/LTS">LTS schedule</a> for further information.</p>
<h3 id="install-node-js-and-npm">Install Node.js and NPM</h3>
<pre><code class="lang-sql">curl -sL https://deb.nodesource.com/setup_4.x | sudo -E bash -
sudo apt-get <span class="hljs-operator"><span class="hljs-keyword">install</span> -y nodejs
sudo apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">install</span> -y <span class="hljs-keyword">build</span>-essential
sudo npm <span class="hljs-keyword">install</span> npm -<span class="hljs-keyword">g</span>
</span></code></pre><h3 id="upgrade-gcc-compiler">Upgrade GCC++ Compiler</h3>
<pre><code class="lang-smali">sudo<span class="hljs-instruction"> add-apt-repository </span>ppa:ubuntu-toolchain-r/test
sudo apt-get update -y
sudo apt-get install gcc-4.9 g++-4.9
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 60 --slave /usr/bin/g++ g++ /usr/bin/g++-4.9
</code></pre><h3 id="install-dependencies">Install dependencies</h3>
<h4 id="image-libraries">Image Libraries</h4>
<p>sudo apt-get install libcairo2-dev libjpeg-dev libgif-dev</p>
<h4 id="sqwish-css-compressor">Sqwish CSS Compressor</h4>
<p>sudo npm install -g sqwish</p>
<h4 id="dadi-cdn">DADI CDN</h4>
<h5 id="install-from-npm">Install from NPM</h5>
<ol>
<li><code class="lang-perl"><span class="hljs-keyword">mkdir</span> <span class="hljs-keyword">my</span>-cdn-app</code></li>
<li><code class="lang-stata"><span class="hljs-keyword">cd</span> my-cdn-<span class="hljs-keyword">app</span></code></li>
<li><code class="lang-coffeescript"><span class="hljs-built_in">npm</span> init</code> - follow the prompts, accepting the defaults is usually enough`</li>
<li><code class="lang-coffeescript"><span class="hljs-built_in">npm</span> install --save <span class="hljs-property">@dadi</span>/cdn</code></li>
<li><code class="lang-css"><span class="hljs-tag">touch</span> <span class="hljs-tag">main</span><span class="hljs-class">.js</span></code></li>
<li><p>add the following code to main.js</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> app = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@dadi/cdn'</span>)
</code></pre>
</li>
<li><p>add the following to package.json</p>
<pre><code class="lang-json"><span class="hljs-string">"scripts"</span>: {
"<span class="hljs-attribute">start</span>": <span class="hljs-value"><span class="hljs-string">"node ./main.js --node-env=development"</span>
</span>}
</code></pre>
</li>
</ol>
<h3 id="starting-the-server">Starting the server</h3>
<blockquote>
<p><strong>Note:</strong> CDN creates log and cache directories at startup using settings in the current environment’s configuration file.</p>
</blockquote>
<p><code class="lang-accesslog"><span class="hljs-string">[sudo]</span> npm start</code></p>
<h3 id="running-dadi-cdn-as-a-service">Running DADI CDN as a service</h3>
<p>To run DADI CDN as a service, install <a href="https://github.com/nodejitsu/forever">Forever</a> and <a href="https://github.com/zapty/forever-service">Forever-service</a>:</p>
<p><code class="lang-livecodeserver">sudo npm install -g <span class="hljs-keyword">forever</span> <span class="hljs-keyword">forever</span>-service</code></p>
<p>Install DADI CDN as a service and ensure it loads on boot:</p>
<p><code class="lang-sql">sudo forever-service <span class="hljs-operator"><span class="hljs-keyword">install</span> -s <span class="hljs-keyword">main</span>.js -<span class="hljs-keyword">e</span> NODE_ENV=production cdn <span class="hljs-comment">--start</span></span></code></p>
<p>_Note the environment variable - <code class="lang-fix"><span class="hljs-attribute">NODE_ENV</span>=<span class="hljs-string">production</span></code> - must be set to target the required config version._</p>
<p>You can then interact with DADI CDN as a service using the following command:</p>
<ul>
<li>Start: <code class="lang-accesslog"><span class="hljs-string">[sudo]</span> start cdn</code></li>
<li>Stop: <code class="lang-accesslog"><span class="hljs-string">[sudo]</span> stop cdn</code></li>
<li>Status: <code class="lang-accesslog"><span class="hljs-string">[sudo]</span> status cdn</code></li>
<li>Restart <code class="lang-accesslog"><span class="hljs-string">[sudo]</span> restart cdn</code></li>
</ul>

         <!--  <p class="small">314:2 min</p> -->
        </div>
         <div class="col w-1-4">
          <ul class="list--line pad__top--half stick" stick-spacer="false" stick-parent=".container">
              <li><a class="" href="#overview">Overview</a></li>
              <li><a class="" href="#installing-dadi-cdn">Installing DADI CDN</a></li>
          </ul>
        </div>
      </div>
    </div>
  </main>

<div class="footer bg--light-grey bdr__top bdr--bdr-grey pad__top--x2 pad__bottom--x2">
  <footer class="small container">
    <div class="bdr__bottom bdr--bdr-grey marg__bottom--x2 pad__bottom">
      <div class="grid feed">
        <div class="col w-1-2">
        <p class="normal"><strong>The Feed</strong> provides the latest news and releases from DADI along with a collection of the best industry news, resources and inspiration from around the web, curated by us.</p>
        </div>
        <div class="col w-1-2 normal pad__top">
          <form action="http://dadi.createsend.com/t/d/s/irhyjh/" method="post">
            <p class="no-marg-i pad--half txt--grey">Get <strong>The Feed</strong> in your inbox</p>
            <input type="text" name="cm-irhyjh-irhyjh" class="email text" placeholder="Your email address"><button class="btn btn--blue" type="submit">Subscribe</button>
          </form>
        </div>
      </div>
    </div>
    <div class="grid">
      <div class="col w-1-3 pad__bottom">
        <ul class="list--line normal txt--blue">
          <li><a href="https://dadi.tech/contact/">Contact us</a></li>
          <li><a href="https://dadi.tech/success-stories/">Success stories</a></li>
          <li><a href="https://dadi.tech/latest/">Latest</a></li>
          <li><a href="https://dadi.tech/on-demand/">On demand</a></li>
          <li><a href="https://dadi.tech/about/">Working with DADI</a>
          <li><a href="https://dadi.tech/privacy/">Privacy</a></li>
        </ul>
      </div>
      <div class="col w-1-3 pad__bottom">
        <p class="normal hdr"><a href="https://dadi.tech/platform/">Platform</a></p>
        <ul class="list--line">
          <li>
            <a href="https://dadi.tech/platform/api/" class="fwb">
            <img src="https://dadi.tech/assets/products/dadi-api.png" class="alignv float--right" width="15">
            API
            </a>
          </li>
          <li>
            <a href="https://dadi.tech/platform/web/" class="fwb">
            <img src="https://dadi.tech/assets/products/dadi-web.png" class="alignv float--right" width="19">
            Web
            </a>
          </li>
          <li>
            <a href="https://dadi.tech/platform/publish/" class="fwb">
            <img src="https://dadi.tech/assets/products/dadi-publish.png" class="alignv float--right" width="15">
            Publish
            </a>
          </li>
          <li>
            <a href="https://dadi.tech/platform/cdn/" class="fwb">
            <img src="https://dadi.tech/assets/products/dadi-cdn.png" class="alignv float--right" width="15">
            CDN
            </a>
          </li>
          <li><a href="https://dadi.tech/platform/concepts/">Concepts</a></li>
          <li><a href="https://dadi.tech/platform/security/">Security</a></li>
          <li><a href="https://dadi.tech/platform/roadmap/">Roadmap</a></li>
          <li>
            <a href="http://docs.dadi.tech" target="_blank">
            <img src="https://dadi.tech/assets/icons/pop-out.svg" class="alignv float--right" width="15">
            Documentation
            </a>
          </li>
        </ul>
      </div>
      <div class="col w-1-3 pad__bottom">
        <p class="normal hdr"><a href="https://dadi.tech/solutions/">Solutions</a></p>
        <ul class="list--line">
          <li><a href="https://dadi.tech/solutions/data-strategy/">Data strategy</a></li>
          <li><a href="https://dadi.tech/solutions/publishing/">Publishing</a></li>
          <li><a href="https://dadi.tech/solutions/product-development/">Product development</a></li>
          <li><a href="https://dadi.tech/solutions/crm/">CRM</a></li>
          <li><a href="https://dadi.tech/solutions/analytics/">Analytics</a></li>
          <li><a href="https://dadi.tech/solutions/content-personalisation/">Content personalisation</a></li>
          <li><a href="https://dadi.tech/solutions/commerce/">Commerce</a></li>
        </ul>
      </div>
    </div>

    <div class="marg__top--x2 pad__top pad__bottom alignc">
      <ul class="list--inline block marg__bottom--x2">
        <li class="fwb">© DADI+ Ltd.</li>
        <li><a href="https://twitter.com/dadi">Follow us on Twitter</a></li>
        <li><a href="https://github.com/dadi">Find us on Github</a></li>
        <li><a href="https://github.com/dadi/dadi.tech">View the repo for this site</a></li>
      </ul>
      <img src="https://dadi.tech/assets/img/d.svg" class="marg__right--x2 alignv" width="45">
    </div>
  </footer>
</div>

<script src="http://stage.dadi.tech/assets/js/pattern.min.js"></script>
<script src="http://localhost:4113/assets/js/main.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','http://www.google-analytics.com/analytics.js','ga');
</script>

</body>
</html>
